/*C12*/SET SCHEMA PUBLIC
alter table game_draw drop constraint FK_apsi02hhi7cskgscbvo5k0tve
alter table game_draw drop constraint FK_f1lns2fdw89del3om53regabf
alter table game_losers drop constraint FK_42fpavsce5bymdpnlcrkrchvo
alter table game_losers drop constraint FK_2i6rmf6s5qivohhfi6wuxgjrf
alter table game_winners drop constraint FK_a0hijv5dgmatwu9hv35845csb
alter table game_winners drop constraint FK_nt30ttd9usuv1j518hfx46mbq
drop table game if exists
drop table game_draw if exists
drop table game_losers if exists
drop table game_winners if exists
drop table location if exists
drop table player if exists
create table game (id bigint generated by default as identity (start with 1), date timestamp, draw_score integer not null, losers_score integer not null, name varchar(255), winner_score integer not null, primary key (id))
create table game_draw (game_id bigint not null, draw_id bigint not null, primary key (game_id, draw_id))
create table game_losers (game_id bigint not null, losers_id bigint not null, primary key (game_id, losers_id))
create table game_winners (game_id bigint not null, winners_id bigint not null, primary key (game_id, winners_id))
create table location (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table player (id bigint generated by default as identity (start with 1), email varchar(255), name varchar(255), password varchar(255), primary key (id))
alter table location add constraint UK_sahixf1v7f7xns19cbg12d946 unique (name)
alter table player add constraint UK_oivbimcon0iqmb8efpv723h08 unique (email)
alter table game_draw add constraint FK_apsi02hhi7cskgscbvo5k0tve foreign key (draw_id) references player
alter table game_draw add constraint FK_f1lns2fdw89del3om53regabf foreign key (game_id) references game
alter table game_losers add constraint FK_42fpavsce5bymdpnlcrkrchvo foreign key (losers_id) references player
alter table game_losers add constraint FK_2i6rmf6s5qivohhfi6wuxgjrf foreign key (game_id) references game
alter table game_winners add constraint FK_a0hijv5dgmatwu9hv35845csb foreign key (winners_id) references player
alter table game_winners add constraint FK_nt30ttd9usuv1j518hfx46mbq foreign key (game_id) references game
